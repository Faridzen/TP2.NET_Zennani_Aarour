@model Gauniv.WebServer.Models.CatalogViewModel
@{
    ViewData["Title"] = "Ma Bibliothèque";
}

<div class="hero-section" style="padding: 3rem 0;">
    <h1 class="hero-title" style="font-size: 2.5rem;">Ma Bibliothèque</h1>
    <p class="hero-subtitle">Retrouvez ici tous les jeux que vous avez acquis sur Gauniv.</p>
</div>

<div class="catalog-container">
    <aside>
        <partial name="_CatalogFilters" model="Model" />
    </aside>

    <main>
        @if (Model.Games == null || !Model.Games.Any())
        {
            <div class="form-gauniv text-center py-5">
                <i class="bi bi-basket display-1 text-muted opacity-25"></i>
                <h3 class="mt-3 text-muted">Aucun jeu trouvé dans votre bibliothèque.</h3>
                <p class="text-muted">Essayez de modifier vos filtres ou de réinitialiser la recherche.</p>
                <a asp-action="Index" class="game-btn mt-3 d-inline-block">Explorer le catalogue</a>
            </div>
        }
        else
        {
            <div class="game-grid">
                @foreach (var local_game in Model.Games)
                {
                    <div class="game-card">
                        <div class="game-card-img-wrapper">
                            <span class="position-absolute top-0 end-0 m-3 badge badge-gauniv badge-possesse" style="z-index: 10;">
                                <i class="bi bi-check-circle-fill"></i> Possédé
                            </span>
                            @if (!string.IsNullOrEmpty(local_game.ImageUrl))
                            {
                                <img src="@local_game.ImageUrl" class="game-card-img" alt="@local_game.Title">
                            }
                            else
                            {
                                <div class="game-card-img d-flex align-items-center justify-content-center bg-dark text-muted">
                                    <i class="bi bi-joystick display-4"></i>
                                </div>
                            }
                        </div>
                        <div class="game-card-content">
                            <h2 class="game-title">@local_game.Title</h2>
                            <p class="game-description">@local_game.Description</p>
                            
                            <div class="game-metadata">
                                <a asp-action="Details" asp-route-id="@local_game.Id" class="game-btn flex-grow-1 text-center" style="background: rgba(16, 185, 129, 0.1); color: var(--accent); border: 1px solid rgba(16, 185, 129, 0.2);">
                                    Détails <i class="bi bi-play-fill-short"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </main>
</div>
